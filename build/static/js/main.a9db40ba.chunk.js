(this["webpackJsonpcapstone-project"]=this["webpackJsonpcapstone-project"]||[]).push([[0],{26:function(e,t,c){},28:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),i=c(19),a=c.n(i),o=c(9),s=(c(26),c(21)),j=c(17),u=c(7),l=c(1),b=r.a.createContext();function d(e){var t=e.children,c=Object(n.useState)([]),r=Object(u.a)(c,2),i=r[0],a=r[1],o=Object(n.useState)([]),d=Object(u.a)(o,2),O=d[0],m=d[1];return Object(n.useEffect)((function(){fetch("https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json").then((function(e){return e.json()})).then((function(e){return a(e)}))}),[]),Object(l.jsx)(b.Provider,{value:{allPhotos:i,toggleFavorite:function(e){var t=i.map((function(t){return t.id===e?Object(j.a)(Object(j.a)({},t),{},{isFavorite:!t.isFavorite}):t}));a(t)},cartItems:O,emptyCart:function(){m([])},addToCart:function(e){m((function(t){return[].concat(Object(s.a)(t),[e])}))},removeFromCart:function(e){var t=O.filter((function(t){return t.id!==e.id}));m(t)}},children:t})}c.p,c(28);var O=c(2);var m=function(){var e=Object(n.useContext)(b).cartItems.length>0?"ri-shopping-cart-fill":"ri-shopping-cart-line";return Object(l.jsxs)("header",{children:[Object(l.jsx)(o.b,{to:"/",children:Object(l.jsx)("h2",{children:"Pic Some"})}),Object(l.jsx)(o.b,{to:"/cart",children:Object(l.jsx)("i",{className:"".concat(e," ri-fw ri-2x")})})]})};function h(e){return e%5===0?"big":e%6===0?"wide":void 0}var f=function(e){var t=e.className,c=e.img,r=Object(n.useState)(!1),i=Object(u.a)(r,2),a=i[0],o=i[1],s=Object(n.useContext)(b),j=s.toggleFavorite,d=s.addToCart,O=s.cartItems,m=s.removeFromCart;return Object(l.jsxs)("div",{className:"".concat(t," image-container"),onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:[Object(l.jsx)("img",{src:c.url,className:"image-grid"}),c.isFavorite?Object(l.jsx)("i",{className:"ri-heart-fill favorite",onClick:function(){return j(c.id)}}):a?Object(l.jsx)("i",{className:"ri-heart-line favorite",onClick:function(){return j(c.id)}}):void 0,O.some((function(e){return e.id===c.id}))?Object(l.jsx)("i",{className:"ri-shopping-cart-fill cart",onClick:function(){return m(c)}}):a?Object(l.jsx)("i",{className:"ri-add-circle-line cart",onClick:function(){return d(c)}}):void 0]})};var x=function(){var e=Object(n.useContext)(b).allPhotos.map((function(e,t){return Object(l.jsx)(f,{img:e,className:h(t)},e.id)}));return Object(l.jsx)("main",{className:"photos",children:e})};var v=function(e){var t=e.item,c=Object(n.useState)(!1),r=Object(u.a)(c,2),i=r[0],a=r[1],o=Object(n.useContext)(b).removeFromCart,s=i?"fill":"line";return Object(l.jsxs)("div",{className:"cart-item",children:[Object(l.jsx)("i",{className:"ri-delete-bin-".concat(s),onClick:function(){return o(t)},onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)}}),Object(l.jsx)("img",{src:t.url,width:"130px"}),Object(l.jsx)("p",{children:"$5.99"})]})};var p=function(){var e=Object(n.useState)("idle"),t=Object(u.a)(e,2),c=t[0],r=t[1],i=Object(n.useContext)(b),a=i.cartItems,o=i.emptyCart,s=a.map((function(e){return Object(l.jsx)(v,{item:e},e.id)})),j=5.99*a.length;return Object(l.jsxs)("main",{className:"cart-page",children:[Object(l.jsx)("h1",{children:"Check out"}),s,Object(l.jsxs)("p",{className:"total-cost",children:["Total: ",j.toLocaleString("en-US",{style:"currency",currency:"USD"})]}),a.length>0?Object(l.jsx)("div",{className:"order-button",children:Object(l.jsx)("button",{onClick:function(){return r("pending"),void setTimeout((function(){o(),r("idle")}),3e3)},children:"idle"===c?"Place order":"pending"===c?"Ordering...":void 0})}):Object(l.jsx)("p",{children:"Your cart is empty!"})]})};var g=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(m,{}),Object(l.jsxs)(O.c,{children:[Object(l.jsx)(O.a,{exact:!0,path:"/",children:Object(l.jsx)(x,{})}),Object(l.jsx)(O.a,{path:"/cart",children:Object(l.jsx)(p,{})})]})]})};a.a.render(Object(l.jsx)(d,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(g,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.a9db40ba.chunk.js.map